---
layout: page
title: 2-2. 選択ソート【10点，2週目のみ採点】
---

与えられたデータを一定の大小関係に基づいて並べ替えることを**ソート**と呼ぶ．
「並べ替える」というと単純そうだが，ソートの手順（**アルゴリズム**）には様々なバリエーションが存在し，またこれらを学ぶ中で**計算量**（complexity）や**再帰**（recursion）といった重要な概念に触れることができるため，ソートは計算機科学のカリキュラムに必ず登場する基本的なトピックとなっている．

ここではもっともシンプルなソートアルゴリズムのひとつである**選択ソート**（selection sort）を実装しよう．

選択ソートは，次の手順で配列を並べ替えるアルゴリズムである．ただしここでは昇順（小さい方から順番に並べる）を想定している．

1. 配列全体から，もっとも値の小さいデータを探し，配列の1番手前に移動する．
2. 配列の残りのデータの中から，もっとも値の小さいデータ（全体で2番目に値の小さいデータ）を探し，配列の手前から2番目に移動する．
3. 配列の残りのデータの中から，もっとも値の小さいデータ（全体で3番目に値の小さいデータ）を探し，配列の手前から3番目に移動する．
4. 以下同様

## 問題
与えられた配列データを**選択ソート**（selection sort）により<font color="red">昇順</font>に並べ替えるプログラムを作成せよ．また，「ふたつの数の比較」の回数を数えよ．

プログラムは以下の仕様を満たすこと．

- 入力されるデータファイル
    - データファイルの 1 行目には，データの個数 $n$ が記載されている．
    - データファイルの 2 行目には， $n$ 個の正の整数データが半角スペースで区切られて記載されている．
- 配列の動的確保
    - ソートすべき $n$ 個のデータを読み込む際には，データの格納に必要なメモリ領域を動的に確保すること．
    - 動的に確保したメモリ領域は処理が完了した後に解放すること．
- ソート用の関数
    - 配列を選択ソートによってソートする関数 `selectionsort` を作成すること．
    - ソートする際に「比較」の回数を数えること．
    - 配列データや比較回数は，戻り値やポインタ型の引数として取り扱うこと．すなわち，以下のように実装してはいけない：
        - `selectionsort` 関数内で比較した回数を表示してはいけない．
        - `selectionsort` 関数内でソートした後の配列データを表示してはいけない．
        - グローバル変数や静的変数を使用してはいけない．
- 出力
    - ソートした配列データの各要素を半角スペースで区切って標準出力に書き出し，その次の行に比較回数を書き出すこと．
    - それぞれ末尾には改行文字`\n`を付けること．
    - ソートした配列データを表示する際には，最終要素と改行文字`\n`の間に半角スペースを入れないこと．

## 実行例
入力されるデータファイル ([sortdata.txt](./sortdata.txt)) の例

```
8
2 4 3 1 8 7 6 5
```

リダイレクション '<' を用いて `sortdata.txt` の内容を標準入力から読み込む．

```
$ ./a.out < sortdata.txt
```

`sortdata.txt` に対する実行結果の例（`>` は標準出力を示し，`⊔` は半角スペースを示す．）

```
> 1⊔2⊔3⊔4⊔5⊔6⊔7⊔8
> 28
```

## ヒント：選択ソートのアルゴリズム
選択ソートの擬似コードを以下に示す：

```
[入力]
data: 整列したい値を格納している配列
n: 配列dataの要素数

[擬似コード]
1. i = 0　から (n-2) まで，以下の処理を繰り返す
2.   j ← data[i], data[i+1], ..., data[n-1] の中で最小の要素を持つインデックス番号
3.   data[i]とdata[j]の値を入れ替える

[出力]
data: 整列済みの配列
```
