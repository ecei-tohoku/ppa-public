---
layout: page
title: 2-2. 選択ソート【2週目のみ採点，自動採点システム:5点，仕様:5点】
---

与えられたデータを一定の大小関係に基づいて並べ替えることを**ソート**と呼ぶ．
「並べ替える」というと単純そうだが，ソートの手順（**アルゴリズム**）には様々なバリエーションが存在し，またこれらを学ぶ中で**計算量**（complexity）や**再帰**（recursion）といった重要な概念に触れることができるため，ソートは計算機科学のカリキュラムに必ず登場する基本的なトピックとなっている．

ここではもっともシンプルなソートアルゴリズムのひとつである**選択ソート**（selection sort）を実装しよう．

選択ソートは，次の手順で配列を並べ替えるアルゴリズムである．ただしここでは昇順（小さい方から順番に並べる）を想定している．

1. 配列全体から，もっとも値の小さいデータを探し，配列の1番手前に移動する．
2. 配列の残りのデータの中から，もっとも値の小さいデータ（全体で2番目に値の小さいデータ）を探し，配列の手前から2番目に移動する．
3. 配列の残りのデータの中から，もっとも値の小さいデータ（全体で3番目に値の小さいデータ）を探し，配列の手前から3番目に移動する．
4. 以下同様

## 問題
与えられた配列データを**選択ソート**（selection sort）により<font color="red">昇順</font>に並べ替えるプログラムを作成せよ．また，「ふたつの数の比較」の回数を数えよ．

プログラムは以下の仕様を満たすこと（以下の仕様を満たしたプログラムに5点を加点する）．

- グローバル変数や静的変数を使用してはいけない．
- 入力されるデータファイル
    - データファイルの 1 行目には，データの個数 $n$ が記載されている．
    - データファイルの 2 行目には， $n$ 個の正の整数データが半角スペースで区切られて記載されている．
- 配列の動的確保
    - ソートすべき $n$ 個のデータを読み込む際には，データの格納に必要なメモリ領域を動的に確保すること．
    - 動的に確保したメモリ領域は処理が完了した後に解放すること．
- データファイルの読み込は`main` 関数内で行うこと.
- 配列を選択ソートによってソートする `selectionsort` 関数を作成すること．ただし，`selectionsort` 関数は以下の仕様を満すこと．
	- 動的に確保した配列とデータの個数 $n$ を引数とすること．
	- ソートの際に実行された比較命令の回数を`selectionsort` 関数の戻り値とすること．
	- 関数内で配列の要素を交換した場合は，交換した 2 要素の添字$i,j(i<j)$を用いて SWAP$(i,j)$ と表示し，改行後に交換後の配列データを表示する．このとき，ソート後の出力と区別するために先頭に #⊔ を付けて表示すること．また，交換が実行されなかった場合は何も表示してはいけない．
	  - 添字0,3の要素を交換した場合の表示例（`>` は標準出力を示し，`⊔` は半角スペースを示す．）
		```
		> SWAP(0,3)
		> #⊔1⊔3⊔2⊔4⊔6⊔5
		```
- ソート後の出力
    - ソートした配列データの各要素を標準出力に書き出し，改行後に比較回数を書き出すこと．
	- `selectionsort` 関数内で比較した回数を表示してはいけない．
    - `selectionsort` 関数内でソートした後の配列データを表示してはいけない．
- 配列データの表示は各要素を半角スペースで区切って標準出力に書き出し，各表示の末尾には改行文字 `\n` を付けること．
	- 配列データを表示する際に最終要素と改行文字 `\n` の間に半角スペースをいれないこと．



## 実行例

### (1)

入力されるデータファイル ([selectionsort_data1.txt](./selectionsort_data1.txt)) の例

```
4
1 2 3 4
```

リダイレクション '<' を用いて `selectionsort_data1.txt` の内容を標準入力から読み込む．

```
$ ./a.out < selectionsort_data1.txt
```

`selectionsort_data1.txt` に対する実行結果の例（`>` は標準出力を示し，`⊔` は半角スペースを示す．）

```
> 1⊔2⊔3⊔4
> 6
```

### (2)

入力されるデータファイル ([selectionsort_data２.txt](./selectionsort_data2.txt)) の例

```
5
7 1 3 4 5
```

`selectionsort_data2.txt` に対する実行結果の例（`>` は標準出力を示し，`⊔` は半角スペースを示す．）

```
> SWAP(0,1)
> #⊔1⊔7⊔3⊔4⊔5
> SWAP(1,2)
> #⊔1⊔3⊔7⊔4⊔5
> SWAP(2,3)
> #⊔1⊔3⊔4⊔7⊔5
> SWAP(3,4)
> #⊔1⊔3⊔4⊔5⊔7
> 1⊔3⊔4⊔5⊔7
> 10
```

### (3)

入力されるデータファイル ([selectionsort_data3.txt](./selectionsort_data3.txt)) の例

```
8
2 4 3 1 8 7 6 5
```

`selectionsort_data3.txt` に対する実行結果の例（`>` は標準出力を示し，`⊔` は半角スペースを示す．）

```
> SWAP(0,3)
> #⊔1⊔4⊔3⊔2⊔8⊔7⊔6⊔5
> SWAP(1,3)
> #⊔1⊔2⊔3⊔4⊔8⊔7⊔6⊔5
> SWAP(4,7)
> #⊔1⊔2⊔3⊔4⊔5⊔7⊔6⊔8
> SWAP(5,6)
> #⊔1⊔2⊔3⊔4⊔5⊔6⊔7⊔8
> 1⊔2⊔3⊔4⊔5⊔6⊔7⊔8
> 28
```
