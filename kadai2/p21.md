---
layout: page
title: 2-1. 関数と動的メモリ確保【10点，2週目のみ採点】
---

C 言語では，`main` 関数内に動作させたいプログラムを書けば十分である．一方で，プログラムの規模が大きくなるにつれて，巨大な `main` 関数になってしまう．そのため，通常は，適当な大きさの関数に分割してプログラムを書く．たとえば，繰り返し計算する部分を関数とすることで，1 回の記述するだけで済む．ここでは，関数を使ったプログラムを作成しよう．

## 問題

標準入力から実数のデータ列を読み込み，その数の出現個数のヒストグラムを書き出すプログラムを作成せよ．ただし，プログラムは，以下の仕様を満たすこと．

- データ列の 1 行目にデータの個数が記載されているので，1 行目を読み込んだ後に，データ列を格納する配列を `malloc` 関数を使って確保すること．なお，すべての処理が完了した後に解放すること．
- データ列を引数とするヒストグラム描画のための `histogram` 関数を作成すること．
- データ列のそれぞれの実数値を四捨五入して得られる整数値の個数を数えてヒストグラムを求める．
- ヒストグラムの範囲は，データ列の最小値から最大値までとする．
- ヒストグラムの棒は，半角のアスタリスク `*` で表現する．
- ヒストグラムは，出力例のように，ビンを 2 桁の数字として表示するとともに，数字の右に半角スペースを 1 つ挿入すること．
- ヒストグラムの出力は，`main` 関数内でも，`histogram` 関数内でもよい．


## 実行例

入力ファイル (data.txt) の例

```
10
2.6 3.4 3.2 2.4 8.8 4.3 9.7 2.2 4.1 5.1
```

プロンプト上で `data.txt` をリダイレクト `<` を使って標準入力させる．
```
$ ./a.out < data.txt
```

出力結果の例
```
 2 **
 3 ***
 4 **
 5 *
 6 
 7 
 8 
 9 *
10 *
```
