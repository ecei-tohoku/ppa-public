---
layout: page
title: 2-5. ポインタ、アドレス、動的メモリ確保【基本】
---

この問題では，これまで使っていた配列である<font color="red">可変長配列（Variable-Length Array; VLA）</font>に代わり，課題３以降で用いる<font color="red">動的メモリ確保（Dynamic Memory Allocation; DMA）</font>された配列を取り扱う．
また，動的メモリ確保に関連して，C言語を使う上で避けては通れない<font color="red">ポインタ</font>と<font color="red">アドレス</font>について解説する．途中途中でサンプルコードを載せるので，各自，実行して動作を理解すること．本番の問題文は後半にあるが，前半を読み飛ばさないように．

---
## ポインタとアドレス
---
&
[]

---
## 値渡しとアドレス渡し
---


以下のコードを実行し，値渡し（"pass by value"）とアドレス渡し（"pass by address"）の違いを確認せよ．

```
void pass_by_value(int x){
  printf("In pass_by_value: %d\n", x);
  x = 10;
}
void pass_by_address(int *ptr_x){
  printf("In pass_by_address: %d\n", *ptr_x);
  *ptr_x = 10;
}
...
int a = 0;

pass_by_value(a);
printf("After pass_by_value: %d\n", a);
pass_by_address(&a);
printf("After pass_by_address: %d\n", a);
```

---
## 動的メモリ確保／解放
---
malloc
free
配列である必要はない。構造体もOK。


---
## 可変長配列 vs 動的メモリ確保した配列
---

<img src="p25-VLA-vs-DMA.png" width="750px">

※実行環境…コンパイラ・OS・シェル・物理メモリ量など。バージョンも含む。

※スコープ…変数の有効範囲（利用可能範囲）のこと。

---
## 問題
---

---
### 仕様
---

- 

- 

- 

- 

```
#include <stdio.h>
#include <stdlib.h>


  ...(省略)...
```


---
## 実行例
---
---
### 実行例
---
- 入力データ
```
```
- 出力例
```

```

