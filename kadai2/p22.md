---
layout: page
title: 2-2. 選択ソート【10点，2週目のみ採点】
---

## 問題
データファイルをリダイレクト `<` を使って標準入力させて，入力された配列データを選択ソートにより<font color="red">昇順</font>に並べ替えるプログラムを作成せよ．ただし，以下の仕様を満たすこと．

- データファイルについて
  - データファイルの 1 行目には，データの個数 $n$ が記載されている．
  - データファイルの 2 行目に $n$ 個の正の整数データが半角スペースで区切られて記載されている．
  - ソートすべき $n$ 個のデータを読み込む際には，データの格納に必要なメモリ領域を動的に確保すること．なお，処理が完了した後に解放すること．
- 選択ソート関数 `selectionsort` について
  - 入力された配列データに対して，選択ソートのアルゴリズムを適用する `selectionsort` 関数を作成する．
  - 配列データをソートする際に比較回数を数えること．具体的には，配列データに対して実行される比較命令の回数を数える．ただし， `selectionsort` 関数内で回数を表示してはいけない．
  - ソートした後の配列データを `selectionsort` 関数内で表示してはいけない．
  - グローバル変数や静的変数を使用してはいけない．
- ソートした配列データの各要素を半角スペースで区切って標準出力し，その後に比較回数を標準出力する．

## 実行例
入力されるデータファイル ([sortdata.txt](./sortdata.txt)) の例

```
8
2 4 3 1 8 7 6 5
```

プロンプト上で `sortdata.txt` をリダイレクト `<` を使って標準入力させる．

```
$ ./a.out < sortdata.txt
```

`sortdata.txt` に対する実行結果の例（`>` は標準出力を示し，`⊔` は半角スペースを示す．）

```
> 1⊔2⊔3⊔4⊔5⊔6⊔7⊔8
> 28
```

## 選択ソートのアルゴリズム
選択ソートのアルゴリズムは，以下のコードを参照すること．

```c
/* 配列データ data[0]～data[n-1] を昇順にソート */
void selectionsort(int *data, int n) {
  int i, j;
  for (i = 0; i < n - 1; i++) {
    for (j = i + 1; j < n; j++) {
      if (data[i] > data[j]) {
        /* data[i] と data[j] を入れ換える */
      }
    }
  }
}
```
