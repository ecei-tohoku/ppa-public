---
layout: page
title: 1-7. 三目並べ
---

[三目並べ（○✕ゲーム）](https://ja.wikipedia.org/wiki/%E4%B8%89%E7%9B%AE%E4%B8%A6%E3%81%B9)を管理・運営するプログラムを作成したい．以下の処理を行うプログラムを実装せよ．

1. 盤面を表示する
2. プロンプトを表示する
3. 標準入力から「○」もしくは「✕」を置く場所を読み込む
4. 勝利および引き分け判定を行い，勝負が決着もしくは引き分けた盤面を表示し，その旨を表示してプログラムを終了する．
5. 1に戻る

盤面の初期状態は次の通りに表示する．

```
7|8|9
-+-+-
4|5|6
-+-+-
1|2|3
```

盤上に「○」もしくは「✕」を置くと，その場所が数字ではなく`o`もしくは`x`に置き換わる．例えば，5番（中央）に「○」，1番（左下）に「✕」を置いた時の盤面は次のように表示する．

```
7|8|9
-+-+-
4|o|6
-+-+-
x|2|3
```

先手は「○」，後手は「✕」とする．プロンプトは，先手番なら`o>`，後手番なら`x>`を表示したのち，１文字の空白を表示する（改行を行わないことに注意せよ）．
「○」および「✕」を置く場所は，盤面の数字（1から9まで）で指定する．
1から9以外の数字が入力された場合，及びすでに「○」「✕」が置かれている場所が指定された場合は，`ERROR!`と表示し，プロンプトを再び表示して再入力を受け付ける．

```
7|8|9
-+-+-
4|5|6
-+-+-
1|2|3
o> 10
ERROR!
o> 5

7|8|9
-+-+-
4|o|6
-+-+-
1|2|3
x> 5
ERROR!
x> 9

7|8|x
-+-+-
4|o|6
-+-+-
1|2|3
o>
```

勝負が決した場合，もしくは引き分けになった場合は，その盤面を表示する．
続けて，先手が勝利した場合は`o win!`，後手が勝利した場合は`x win!`，引き分けの場合は`even.`と表示する．

## 実行例
`#`は標準入力，`>`は標準出力を表す．

```
> 7|8|9
> -+-+-
> 4|5|6
> -+-+-
> 1|2|3
> o>
# 7
> o|8|9
> -+-+-
> 4|5|6
> -+-+-
> 1|2|3
> x>
# 3
> o|8|9
> -+-+-
> 4|5|6
> -+-+-
> 1|2|x
> o>
# 8
> o|o|9
> -+-+-
> 4|5|6
> -+-+-
> 1|2|x
> x>
# 2
> o|o|9
> -+-+-
> 4|5|6
> -+-+-
> 1|x|x
> o>
# 9
> o|o|o
> -+-+-
> 4|5|6
> -+-+-
> 1|x|x
> o win!
```
