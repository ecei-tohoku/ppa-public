---
layout: page
title: 1-6. カプレカー変換
---

ある自然数に対するカプレカ―変換は，以下の手順で定義される．

1. 自然数の桁の数字を大きい順に並び替え，その桁数字を用いてできる最大の自然数を作る
2. 自然数の桁の数字を小さい順に並び替え，その桁数字を用いてできる最小の自然数を作る
3. 最大の自然数（手順1）から最小の自然数（手順2）を引き，自然数を更新する

3桁の自然数（ただし全ての桁の数字が同じものは除く）に対して，カプレカ―変換を繰り返し適用すると，必ず[495](https://en.wikipedia.org/wiki/495_(number))に到達することが知られている．例えば，$246$を出発点とすると，以下のように$495$に到達する．

$$
642 - 246 = 396 \\
963 - 369 = 594 \\
954 - 459 = 495
$$

## 問題
標準入力より3桁の自然数を読み込み，$495$に到達するまでカプレカ―変換を繰り返すプログラムを作成せよ．

ただし，入力される数値は3桁の自然数で，全桁の数字が同じものは入力されないと仮定してよい．
プログラムは以下の仕様を満たすこと．

1. 各行に1回のカプレカー変換の様子を「最大の自然数 - 最小の自然数 = 新しい自然数」という形式で出力すること．実行例を参考にせよ．
1. 各自然数は右詰めで3桁になるように適宜空白を挿入せよ．
1. カプレカ―変換後の自然数が495になった段階で，プログラムを終了せよ．
1. 各表示は標準出力に書き出し，末尾には改行文字`\n`を付けること．

## 実行例
`#`は標準入力，`>`は標準出力を表す．

```
# 123
> 321 - 123 = 198
> 981 - 189 = 792
> 972 - 279 = 693
> 963 - 369 = 594
> 954 - 459 = 495
```

```
# 121
> 211 - 112 =  99
> 990 -  99 = 891
> 981 - 189 = 792
> 972 - 279 = 693
> 963 - 369 = 594
> 954 - 459 = 495
```

```
# 9
> 900 -   9 = 891
> 981 - 189 = 792
> 972 - 279 = 693
> 963 - 369 = 594
> 954 - 459 = 495
```

## ヒント
- やや複雑になったが，核となるアルゴリズムはこれまでの知識・技術の組み合わせで実装できる．
- 最初から全体のプログラムを構成するのが難しい場合は，次のように **中間到達目標を設定し，少しずつプログラムを発展させていくとよい．**
    1. 3桁の自然数を標準入力から読み取り，各桁の数字を取り出して表示する
    2. 3桁の自然数を標準入力から読み取り，各桁の数字のうち最大の数字，中間の数字，最小の数字に並べて表示する

## 参考文献

+ Yutaka Nishiyama. [Mysterious number 6174](https://plus.maths.org/content/os/issue38/features/nishiyama/index). Plus magazine, 2006.
+ [6174 (number)](https://en.wikipedia.org/wiki/6174_(number)). Wikipedia.
