---
layout: page
title: 3-4. 編集距離(再帰+メモ化)
---


---
## メモ化
---
問題 3-1 のプログラムでは，文字列 $X$ と $Y$ の編集距離 $c_{m,n}$ を，与えられた文字列長から順に遡って（$c_{m, n}, c_{m-1, n-1}, c_{m, n-1}, ..., c_{0,0}$）再帰的に計算した．しかし，この方法では，同じ値を複数回計算してしまう可能性があるため，効率面で問題がある．
本問題では，再帰処理を効率的に行う手法として**メモ化(memoization)**について学ぶ。

メモ化の考えは非常に単純であり,$c_{m,n}$ を求める過程で,一度計算した $c_{i,j}$の値をメモリに保存しておき,再び必要になった時は再帰呼び出しを行わず,以前求めて保存してあった $c_{i,j}$ の値を再利用する.このような処理をメモ化を呼ぶ.
これにより,一度計算したものを再び計算する必要がないので,計算量は劇的に改善される.



---
## 問題
---
長さ$n$の文字列$X=(x_1 x_2 x_3 \dots x_n)$が与えられる．
この$X$から抽出できる全ての部分文字列を列挙せよ．（空文字は含めない）

---
### 仕様
---
+ 課題3-0に記載の課題全体の仕様


+ 部分文字列は，下記表示例に従って元の文字列$X$のどの文字から抽出したかわかるようにすること
  + 出力時の一行目には必ず入力した文字列$X$を表示する．
  + 部分列は，元の文字列＄X$のどの文字から抽出したかがわかるように表示の桁を合わせる．
  + 最後に抽出した全部分列が何個あったか数を標準出力に表示する
  + 抽出例
    + 入力
    ```
    GATCG
    ```
    + 出力
    ```
    GATCG
    G    
    GA   
    GAT  
    GATC 
    GATCG
    GAT G
    GA C 
    GA CG
    GA  G
    G T  
    G TC 
    G TCG
    G T G
    G  C 
    G  CG
    G   G
     A   
     AT  
     ATC 
     ATCG
     AT G
     A C 
     A CG
     A  G
      T  
      TC 
      TCG
      T G
       C 
       CG
        G
    31
    ```


---
## 入出力例
---
---
### 例1
---

+ 入力データ
```
AAAA
```

+ 出力例
```
AAAA
A   
AA  
AAA 
AAAA
AA A
A A 
A AA
A  A
 A  
 AA 
 AAA
 A A
  A 
  AA
   A
15
```

---
### 例2
---

+ 入力データ
```
ABCED
```

+ 出力例
```
ABCDE
A    
AB   
ABC  
ABCD 
ABCDE
ABC E
AB D 
AB DE
AB  E
A C  
A CD 
A CDE
A C E
A  D 
A  DE
A   E
 B   
 BC  
 BCD 
 BCDE
 BC E
 B D 
 B DE
 B  E
  C  
  CD 
  CDE
  C E
   D 
   DE
    E
31
```


---
## ヒント
---
